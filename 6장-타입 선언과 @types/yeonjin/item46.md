## [ITEM 46] 타입 선언과 관련된 세 가지 버전 이해하기

### 타입스크립트를 사용함으로써 추가로 고려해야 하는 버전 문제

- 라이브러리 버전
- 타입 선언(@types)의 버전
- 타입스크립트의 버전

### 실제 라이브러리와 타입 정보의 버전이 별도로 관리되면서 생기는 문제점

1. 라이브러리를 업데이트했지만 타입 선언은 업데이트하지 않음
   1. 타입 선언도 업데이트한다.
   2. 타입 선언이 업데이트되지 않았다면,
      1. 보강 기법을 활용하여 사용하려는 새 함수와 메서드의 타입 정보를 프로젝트 자체에 추가한다
      2. 타입 선언의 업데이트를 직접 작성하고 공개하여 커뮤니티에 기여한다
2. 라이브러리보다 타입 선언의 버전이 최신인 경우
   1. 라이브러리 버전을 올리거나 타입 선언의 버전을 내림
3. 프로젝트에서 사용하는 타입스크립트 버전보다 라이브러리에서 필요로하는 타입스크립트 버전이 최신인 경우
   1. 타입스크립트 버전을 올리거나, 라이브러리 타입 선언의 버전을 내림
   2. declare module 선언으로 라이브러리 타입 정보를 없앰
4. @types 의존성이 중복되는 경우
   1. 업데이트하여 서로 버전이 호환되게 함

### 타입 선언을 포함하여 번들링하는 것의 문제점

번들링하여 타입 선언을 포함하는 경우, 버전 불일치 문제를 해결할 수는 있음

1. 번들된 타입에서는 @types 버전 선택이 불가능함
2. 프로젝트 내 타입 선언이 다른 라이브러리의 타입 선언에 의존하는 경우, 타입 오류 발생
3. 프로젝트의 과거 버전에 있는 타입 선언에 문제가 있는 경우, 과거로 돌아가서 패치 업데이트를 해야 함
4. 타입 선언의 패치 업데이트를 자주 하기 어렵다

### 권장사항

라이브러리가 타입스크립트로 작성된 경우만 타입 선언을 라이브러리에 포함한다.
